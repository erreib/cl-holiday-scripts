(function() {
        if(document) {
            var e=new Date; (11===e.getMonth()&&30>=e.getDate()||0===e.getMonth())&&showChristmasTheme()
        }
    }

)();

function showChristmasTheme() {
    var e=createElementFromString("<svg class=\"winter-theme-snowman\" width=\"61\" height=\"98\" viewBox=\"0 0 61 98\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <g class=\"body\"> <ellipse cx=\"30.1998\" cy=\"69.885\" rx=\"30.1998\" ry=\"27.4544\" fill=\"white\"/> <circle class=\"body-circle\" cx=\"42.7168\" cy=\"60.8281\" r=\"2\" fill=\"url(#paint0_linear)\"/> <circle class=\"body-circle\" cx=\"46.8457\" cy=\"70.3291\" r=\"2\" fill=\"url(#paint1_linear)\"/> <circle class=\"body-circle\" cx=\"46.2051\" cy=\"80.9395\" r=\"2\" fill=\"url(#paint2_linear)\"/> </g> <g class=\"head\"> <g filter=\"url(#filter0_d)\"> <circle cx=\"29.6994\" cy=\"33.9445\" r=\"18.7189\" fill=\"white\"/> </g> <circle class=\"eye-circle\" cx=\"30.2005\" cy=\"33.9447\" r=\"2.74544\" fill=\"url(#paint3_linear)\"/> <circle class=\"eye-circle\" cx=\"42.9294\" cy=\"28.4539\" r=\"2.49585\" fill=\"url(#paint4_linear)\"/> <path class=\"nose\" d=\"M55.9892 45.188L39.7877 34.0209C39.7877 34.0209 37.8223 35.0164 37.1899 36.3151C36.5849 37.5577 36.8493 39.8068 36.8493 39.8068L55.9892 45.188Z\" fill=\"url(#paint7_linear)\"/> <g class=\"hat\"> <path d=\"M48.7976 16.1939C49.517 18.4964 40.5008 23.362 28.6595 27.0615C16.8182 30.761 7.21914 31.7986 6.49979 29.4961C5.78044 27.1936 14.2132 22.423 26.0545 18.7235C37.8958 15.0239 48.0783 13.8914 48.7976 16.1939Z\" fill=\"#333333\"/> <path d=\"M48.7976 16.1939C49.517 18.4964 40.5008 23.362 28.6595 27.0615C16.8182 30.761 7.21914 31.7986 6.49979 29.4961C5.78044 27.1936 14.2132 22.423 26.0545 18.7235C37.8958 15.0239 48.0783 13.8914 48.7976 16.1939Z\" fill=\"url(#paint5_linear)\"/> <path d=\"M9.23397 8.86028C9.23397 8.86028 15.2116 7.41648 18.9686 6.24002C25.3595 4.23883 34.9413 0 34.9413 0C34.9413 0 38.413 8.06342 39.0829 10.2078L41.6879 18.5458L13.1004 27.4772L11.091 18.9531L9.23397 8.86028Z\" fill=\"#333333\"/> <path d=\"M9.23397 8.86028C9.23397 8.86028 15.2116 7.41648 18.9686 6.24002C25.3595 4.23883 34.9413 0 34.9413 0C34.9413 0 38.413 8.06342 39.0829 10.2078L41.6879 18.5458L13.1004 27.4772L11.091 18.9531L9.23397 8.86028Z\" fill=\"url(#paint6_linear)\"/> </g> </g> <defs> <filter id=\"filter0_d\" x=\"0.980469\" y=\"15.2256\" width=\"57.4378\" height=\"57.4378\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"> <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/> <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/> <feOffset dy=\"10\"/> <feGaussianBlur stdDeviation=\"5\"/> <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.2625 0 0 0 0 0.77875 0 0 0 0 1 0 0 0 0.05 0\"/> <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/> <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\"/> </filter> <linearGradient id=\"paint0_linear\" x1=\"40.7168\" y1=\"61.5554\" x2=\"44.4441\" y2=\"60.1918\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#434343\"/> <stop offset=\"1\" stop-color=\"#929292\"/> </linearGradient> <linearGradient id=\"paint1_linear\" x1=\"44.8457\" y1=\"71.0564\" x2=\"48.573\" y2=\"69.6927\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#434343\"/> <stop offset=\"1\" stop-color=\"#929292\"/> </linearGradient> <linearGradient id=\"paint2_linear\" x1=\"44.2051\" y1=\"81.6667\" x2=\"47.9324\" y2=\"80.3031\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#434343\"/> <stop offset=\"1\" stop-color=\"#929292\"/> </linearGradient> <linearGradient id=\"paint3_linear\" x1=\"27.4551\" y1=\"34.943\" x2=\"32.5716\" y2=\"33.0711\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#1B1B1B\"/> <stop offset=\"1\" stop-color=\"#333333\" stop-opacity=\"0.87\"/> </linearGradient> <linearGradient id=\"paint4_linear\" x1=\"40.4336\" y1=\"29.3614\" x2=\"45.085\" y2=\"27.6597\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#1B1B1B\"/> <stop offset=\"1\" stop-color=\"#333333\" stop-opacity=\"0.87\"/> </linearGradient> <linearGradient id=\"paint5_linear\" x1=\"21.4448\" y1=\"3.95582\" x2=\"27.3991\" y2=\"23.0142\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#1B1B1B\"/> <stop offset=\"1\" stop-color=\"#656565\" stop-opacity=\"0\"/> </linearGradient> <linearGradient id=\"paint6_linear\" x1=\"21.4448\" y1=\"3.95582\" x2=\"27.3991\" y2=\"23.0142\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#1B1B1B\"/> <stop offset=\"1\" stop-color=\"#656565\" stop-opacity=\"0\"/> </linearGradient> <linearGradient id=\"paint7_linear\" x1=\"48.4819\" y1=\"38.4362\" x2=\"45.8734\" y2=\"42.5357\" gradientUnits=\"userSpaceOnUse\"> <stop stop-color=\"#FFCC49\"/> <stop offset=\"1\" stop-color=\"#FF8A01\"/> </linearGradient> </defs> </svg>");

    e.onclick=function() {

        document.body.classList.toggle("snow-bg"),
        e.classList.toggle("active"),
        setTimeout(function() {
                e.classList.toggle("active")
            }

            , 1e3)
    }

    ,
    addCss("svg.winter-theme-snowman{position:absolute;bottom:0;left:0;z-index:201;width:61px;height:98px;cursor:pointer;transition:transform .2s ease-in-out;transform-origin:bottom}svg.winter-theme-snowman:hover{transform:scale(1.1)}svg.winter-theme-snowman:hover .head{transform:translateY(12px) rotate(8deg)}svg.winter-theme-snowman.active .hat{animation:1s hatUp}svg.winter-theme-snowman>g{transform:translateY(12px);transform-origin:center}svg.winter-theme-snowman .head{transition:transform .2s ease-in-out}@keyframes hatUp{0%{transform:translate(0,0)}50%{transform:translate(-2px,-5px)}100%{transform:translate(0,0)}}@supports ((-webkit-marquee-repetition:infinite) and (object-fit:fill)) or (-webkit-overflow-scrolling:touch){circle,g,path,svg{filter:none!important}svg.winter-theme-snowman .eye-circle{fill:#373737}svg.winter-theme-snowman .body-circle{fill:#626262}svg.winter-theme-snowman .nose{fill:#ffa620}}.snow-bg{position:relative}.snow-bg:after{content:'';display:block;position:absolute;z-index:1001;top:0;left:0;right:0;bottom:0;pointer-events:none;background-image:url(https://cdn.classlink.com/production/framework/assets/images/snow-1.png),url(https://cdn.classlink.com/production/framework/assets/images/snow-2.png),url(https://cdn.classlink.com/production/framework/assets/images/snow-3.png);animation:snow 10s linear infinite}@keyframes snow{0%{background-position:0 0,0 0,0 0}50%{background-position:500px 500px,100px 200px,-100px 150px}100%{background-position:500px 1000px,200px 400px,-100px 300px}}"),
    addHtml(e)
}

function createElementFromString(e) {
    var t=document.createElement("div");
    return t.innerHTML=e.trim(),
    t.firstElementChild
}

function addHtml(e) {
    var t;
    t="string"==typeof e?createElementFromString(e): e, document.body.appendChild(t)
}

function addCss(e) {
    var t=document.head||document.getElementsByTagName("head")[0],
    r=document.createElement("style");
    t.appendChild(r),
    r.type="text/css",
    r.styleSheet?r.styleSheet.cssText=e: r.appendChild(document.createTextNode(e))
}

function showNewYearsTheme() {
    var T=Math.sqrt,
    G=Math.floor,
    R=Math.sin,
    q=Math.pow,
    D=Math.cos,
    B=Math.PI,
    Y=Math.max,
    P=Math.min;

    function e(e) {
        const t=fe.state.paused;
        let r;

        r="boolean"==typeof e?e: !t,
        t !==r&&fe.setState( {
                paused:r
            }

        )
    }

    function t() {
        fe.state.config;
        Q=ye(),
        ee=Q===ae,
        te=Q===oe,
        re=Q===ie,
        we()===se&&(ke.canvasContainer.style.backgroundColor="#000"),
        Ze.drawWidth=Q===ie?.75: 1
    }

    function r() {
        return Se[0|Math.random()*Se.length]
    }

    function a(e) {
        const t=e&&e.notSame,
        a=e&&e.notColor,
        o=e&&e.limitWhite;
        let i=r();
        if(o&&i===ne.White&&.6>Math.random()&&(i=r()), t)for(; i===_e; )i=r();
        else if(a)for(; i===a; )i=r();
        return _e=i,
        i
    }

    function o() {
        return .5>Math.random()?ne.Gold: ne.White
    }

    function i(e) {
        return e===ne.White||e===ne.Gold?a( {
                notColor:e
            }

        ):o()
    }

    function s() {
        return .5>Math.random()?"Crysanthemum": De[0|Math.random()*(De.length-1)+1]
    }

    function n(e) {
        return M?d()(e): qe[s()](e)
    }

    function l(e) {
        return qe[ve()](e)
    }

    function d() {
        const e="Random"===ve();
        let t=e?s(): ve();
        if(e)for(; Re.includes(t); )t=s();
        return qe[t]
    }

    function p(e) {
        const t=.18;
        return(1-2*t)*e+t
    }

    function c(e) {
        return .75*e
    }

    function m() {
        const e=xe(),
        t=P(2.5, e),
        r=Math.random()*t,
        a=0===t?Math.random(): 1-r/t, o=.5*(Math.random()*(1-.65*a)), i=.5>Math.random()?.5-o:.5+o;

        return {
            size: e-r, x:p(i), height:c(a)
        }
    }

    function h() {
        const e=m(),
        t=new He(l(e.size));
        t.launch(e.x, e.height);
        let r=t.starLife;
        return t.fallingLeaves&&(r=4600),
        900+600*Math.random()+r
    }

    function f() {
        const e=d(),
        t=m(),
        r=new He(e(t.size));
        r.launch(t.x, t.height);
        let a=r.starLife;
        return 900+600*Math.random()+a
    }

    function g() {
        const e=m(),
        t=m(),
        r=new He(l(e.size)),
        a=new He(l(t.size)),
        o=.2*Math.random()-.1,
        i=.2*Math.random()-.1;

        r.launch(.3+o, e.height),
        setTimeout(()=> {
                a.launch(.7+i, t.height)
            }

            , 100);
        let s=Y(r.starLife, a.starLife);
        return(r.fallingLeaves||a.fallingLeaves)&&(s=4600),
        900+600*Math.random()+s
    }

    function u() {
        const e=d(),
        t=xe(),
        r=Y(0, t-1.25),
        a=.08*Math.random()-.04,
        o=new He(e(t));
        o.launch(.5+a, .7);
        const i=1e3+400*Math.random(),
        s=1e3+400*Math.random();

        return setTimeout(()=> {
                const t=.08*Math.random()-.04, a=new He(e(r)); a.launch(.2+t, .1)
            }

            , i),
        setTimeout(()=> {
                const t=.08*Math.random()-.04, a=new He(e(r)); a.launch(.8+t, .1)
            }

            , s),
        4e3
    }

    function y() {
        function e(e, t) {
            const s="Random"===ve();
            let n=s?t?i: o:qe[ve()];
            const l=new He(n(t?r:a)),
            d=.5>=e?e/.5: (1-e)/.5;
            l.launch(e, t?.75:.42*d)
        }

        const t=O?7:4,
        r=xe(),
        a=Y(0, r-3),
        o=.78>Math.random()?We:Te,
        i=n;
        let s=0,
        l=0;

        for(; s<=t; ) {
            if(s===t)setTimeout(()=> {
                    e(.5,  !0)
                }

                , l);

            else {
                const r=.5*(s/t),
                a=30*Math.random()+30;

                setTimeout(()=> {
                        e(r,  !1)
                    }

                    , l),
                setTimeout(()=> {
                        e(1-r,  !1)
                    }

                    , l+a)
            }

            s++,
            l+=200
        }

        return 3400+250*t
    }

    function v() {
        function e(e, t) {
            const r="Random"===ve();
            let s=r?t?i: o:qe[ve()];
            const n=new He(s(a)),
            l=(D(5*e*B+pe)+1)/2;
            n.launch(e, .75*l)
        }

        v.lastCalled=Date.now();
        const t=O?11:5,
        r=O?3:1,
        a=Y(0, xe()-2),
        o=.78>Math.random()?We:Te,
        i=d();
        let s=0,
        n=0;

        for(; s<t; ) {
            if(0===s)e(.5,  !1),
            s+=1;

            else {
                const a=(s+1)/t/2,
                o=30*Math.random()+30,
                i=s===r;

                setTimeout(()=> {
                        e(.5+a, i)
                    }

                    , n),
                setTimeout(()=> {
                        e(.5-a, i)
                    }

                    , n+o),
                s+=2
            }

            n+=200
        }

        return 3400+120*t
    }

    function x() {
        if(Be)if(Be= !1, M)return g();

        else {
            const e=new He(We(xe()));
            return e.launch(.5, .5),
            2400
        }

        if(be())return f(),
        Pe<Ye?(Pe++, 170):(Pe=0, 6e3);
        const e=Math.random();
        if(.08>e&&Date.now()-v.lastCalled>v.cooldown)return v();
        return .1>e?y():.6>e&& !M?h():.8>e?g():1>e?u():void 0
    }

    function b() {
        const e=window.innerWidth,
        t=window.innerHeight,
        r=P(e, N),
        a=420>=e?t: P(t, j);
        ke.stageContainer.style.width=r+"px",
        ke.stageContainer.style.height=a+"px",
        he.forEach(e=>e.resize(r, a));
        const o=Ce();
        J=r/o,
        K=a/o
    }

    function w(e, t) {
        Ve++,
        Ae-=t/30,
        0>Ae&&(Ae=0),
        fe.state.config.autoLaunch&&(Ie-=e, 0>=Ie&&(Ie=1.25*x()))
    }

    function C(e) {
        const {
            dpr: t
        }

        =me,
        r=J,
        a=K,
        o=ce.ctx,
        i=me.ctx;
        we() !==se&&k(e);
        const s=Ce();

        for(o.scale(t*s, t*s), i.scale(t*s, t*s), o.globalCompositeOperation="source-over", o.fillStyle=`rgba(0, 0, 0, 0.25)`, o.fillRect(0, 0, r, a), i.clearRect(0, 0, r, a); Oe.active.length; ) {
            const e=Oe.active.pop(),
            t=o.createRadialGradient(e.x, e.y, 0, e.x, e.y, e.radius);
            t.addColorStop(.024, "rgba(255, 255, 255, 1)"),
            t.addColorStop(.125, "rgba(255, 160, 20, 0.2)"),
            t.addColorStop(.32, "rgba(255, 140, 20, 0.11)"),
            t.addColorStop(1, "rgba(255, 120, 20, 0)"),
            o.fillStyle=t,
            o.fillRect(e.x-e.radius, e.y-e.radius, 2*e.radius, 2*e.radius),
            Oe.returnInstance(e)
        }

        if(o.globalCompositeOperation="lighten", o.lineWidth=Me.drawWidth, o.lineCap=ee?"square":"round", i.strokeStyle="#fff", i.lineWidth=1, i.beginPath(), Se.forEach(e=> {
                    const t=Me.active[e]; o.strokeStyle=e, o.beginPath(), t.forEach(e=> {
                            e.visible&&(o.moveTo(e.x, e.y), o.lineTo(e.prevX, e.prevY), i.moveTo(e.x, e.y), i.lineTo(e.x-1.6*e.speedX, e.y-1.6*e.speedY))
                        }

                    ), o.stroke()
                }

            ), i.stroke(), o.lineWidth=Ze.drawWidth, o.lineCap="butt", Se.forEach(e=> {
                    const t=Ze.active[e]; o.strokeStyle=e, o.beginPath(), t.forEach(e=> {
                            o.moveTo(e.x, e.y), o.lineTo(e.prevX, e.prevY)
                        }

                    ), o.stroke()
                }

            ), Ae) {
            i.globalAlpha=Ae,
            i.fillStyle=ne.Blue,
            i.fillRect(0, a-6, r*$, 6),
            i.globalAlpha=1
        }

        o.setTransform(1, 0, 0, 1, 0, 0),
        i.setTransform(1, 0, 0, 1, 0, 0)
    }

    function k(e) {
        const t=15*we();
        let r=0;

        Ue.r=0,
        Ue.g=0,
        Ue.b=0,
        Se.forEach(e=> {
                const t=ze[e], a=Me.active[e].length; r+=a, Ue.r+=t.r*a, Ue.g+=t.g*a, Ue.b+=t.b*a
            }

        );
        const a=q(P(1, r/500), .3),
        o=Y(1, Ue.r, Ue.g, Ue.b);
        Ue.r=Ue.r/o*t*a,
        Ue.g=Ue.g/o*t*a,
        Ue.b=Ue.b/o*t*a;

        Xe.r+=(Ue.r-Xe.r)/10*e,
        Xe.g+=(Ue.g-Xe.g)/10*e,
        Xe.b+=(Ue.b-Xe.b)/10*e,
        ke.canvasContainer.style.backgroundColor=`rgb($ {
                0|Xe.r
            }

            , $ {
                0|Xe.g
            }

            , $ {
                0|Xe.b
            }

        )`
    }

    function L(e, t, r, a, o) {
        const i=t/r,
        s=e+t-.5*i;
        if(s>e)for(let t=e; t<s; t+=i)o(t+Math.random()*i*a);
        else for(let t=e; t>s; t+=i)o(t+Math.random()*i*a)
    }

    function S(e, t, r=0, a=de) {
        const o=.5*T(e/B),
        s=2*o*B,
        n=s/2;

        for(let o=0; o<=n; o++) {
            const e=o/n*pe,
            l=D(e),
            d=s*l,
            p=de/d,
            c=Math.random()*p+r;

            for(let e=0; e<d*(a/de); e++) {
                const r=Math.random()*(.33*p);
                let a=p*e+c+r;
                t(a, l)
            }
        }
    }

    function E(e) {
        const t=Math.random()*pe;

        L(t, de, 4, .5, t=> {
                Me.add(e.x, e.y, e.color, t, .6*Math.random()+.75, 600)
            }

        )
    }

    function F(e) {
        const t=12+6*Q;

        S(t, (t, r)=> {
                Me.add(e.x, e.y, e.color, t, 2.4*r, 1e3+300*Math.random(), e.speedX, e.speedY)
            }

        ),
        Oe.add(e.x, e.y, 46)
    }

    function z(e) {
        S(7, (t, r)=> {
                const a=Me.add(e.x, e.y, le, t, 2.4*r, 2400+600*Math.random(), e.speedX, e.speedY); a.sparkColor=ne.Gold, a.sparkFreq=144/Q, a.sparkSpeed=.28, a.sparkLife=750, a.sparkLifeVariation=3.2
            }

        ),
        Oe.add(e.x, e.y, 46)
    }

    function _(e) {
        const t=re?32: 16;

        L(0, de, t, 1.8, t=> {
                Ze.add(e.x, e.y, ne.Gold, t, 2.4*q(Math.random(), .45), 300+200*Math.random())
            }

        )
    }

    function W() {
        const e= {}

        ;

        return Ee.forEach(t=> {
                e[t]=[]
            }

        ),
        e
    }

     !function(w, t) {
         !function() {
            function e() {}

            function L(r, t, e) {
                return function(r, t) {
                    return t?t(r): r
                }

                (r&&null !=r[t]?r[t]:d[t], e)
            }

            function r(e) {
                return parseInt(e, 16)
            }

            function C(e) {
                e.width=document.documentElement.clientWidth,
                e.height=document.documentElement.clientHeight
            }

            function c(r) {
                var t=r.getBoundingClientRect();
                r.width=t.width,
                r.height=t.height
            }

            function a(r, o, a, i, s) {
                function n() {
                    b=E=null
                }

                var h,
                u,
                k,
                L=o.slice(),
                S=r.getContext("2d"),
                b=r.width,
                E=r.height,
                F=a?C:c,
                z=(k=function(t) {
                        function e() {
                            h=u=null, i&&w.removeEventListener("resize", n), S.clearRect(0, 0, b, E), s(), t()
                        }

                        h=l(function a() {
                                b||E||(F(r), b=r.width, E=r.height), S.clearRect(0, 0, b, E), (L=L.filter(function(e) {
                                            return function(s, t) {
                                                var e=Math.abs; t.x+=D(t.angle2D)*t.velocity, t.y+=R(t.angle2D)*t.velocity+3, t.wobble+=.1, t.velocity*=t.decay, t.tiltAngle+=.1, t.tiltSin=R(t.tiltAngle), t.tiltCos=D(t.tiltAngle), t.random=Math.random()+5, t.wobbleX=t.x+10*D(t.wobble), t.wobbleY=t.y+10*R(t.wobble); var l=t.tick++/t.totalTicks, n=t.x+t.random*t.tiltCos, o=t.y+t.random*t.tiltSin, i=t.wobbleX+t.random*t.tiltCos, r=t.wobbleY+t.random*t.tiltSin; return s.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-l)+")", s.beginPath(), "circle"===t.shape?s.ellipse(t.x, t.y, .6*e(i-n), .6*e(r-o), B/10*t.wobble, 0, 2*B):(s.moveTo(G(t.x), G(t.y)), s.lineTo(G(t.wobbleX), G(o)), s.lineTo(G(i), G(r)), s.lineTo(G(n), G(t.wobbleY))), s.closePath(), s.fill(), t.tick<t.totalTicks
                                            }

                                            (S, e)
                                        }

                                    )).length?h=l(a):e()
                            }

                        ), u=e
                    }

                    , t.exports.Promise?new t.exports.Promise(k):(k(e, e), null));

                return i&&w.addEventListener("resize", n,  !1),
                    {
                    addFettis:function(e) {
                        return L=L.concat(e),
                        z
                    }

                    ,
                    canvas:r,
                    promise:z,
                    reset:function() {
                        h&&p(h),
                        u&&u()
                    }
                }
            }

            function s(s, l) {
                function e(t) {

                    var e=L(t, "particleCount", Math.floor),
                    n=L(t, "angle", Number),
                    l=L(t, "spread", Number),
                    d=L(t, "startVelocity", Number),
                    m=L(t, "decay", Number),
                    h=L(t, "colors"),
                    f=L(t, "ticks", Number),
                    g=L(t, "zIndex", Number),
                    p=L(t, "shapes"),
                    y=function(r) {
                        var t=L(r, "origin", Object);
                        return t.x=L(t, "x", Number),
                        t.y=L(t, "y", Number),
                        t
                    }

                    (t),
                    v=e,
                    b=[];

                    S?s=u?u.canvas:function(r) {
                        var t=document.createElement("canvas");
                        return C(t),
                        t.style.position="fixed",
                        t.style.top="0px",
                        t.style.left="0px",
                        t.style.pointerEvents="none",
                        t.style.zIndex=r,
                        t
                    }

                    (g):o&& !i&&(c(s), i= !0);

                    for(var w, E, _, W, R, q, D, Y=s.width*y.x, V=s.height*y.y; v--; )b.push((w= {
                                x:Y, y:V, angle:n, spread:l, startVelocity:d, color:h[v%h.length], shape:p[(q=0, D=p.length, G(Math.random()*(D-q))+q)], ticks:f, decay:m
                            }

                            , E=void 0, _=void 0, W=void 0, R=void 0, W=w.angle*(B/180), R=w.spread*(B/180), {
                                x:w.x, y:w.y, wobble:10*Math.random(), velocity:.5*w.startVelocity+Math.random()*w.startVelocity, angle2D:-W+(.5*R-Math.random()*R), tiltAngle:Math.random()*B, color:(E=w.color, _=(E+"").replace(/[^0-9a-f]/gi, ""), 6>_.length&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]), {
                                        r:r(_.substring(0, 2)), g:r(_.substring(2, 4)), b:r(_.substring(4, 6))
                                    }

                                ), shape:w.shape, tick:0, totalTicks:w.ticks, decay:w.decay, random:Math.random()+5, tiltSin:0, tiltCos:0, wobbleX:0, wobbleY:0
                            }

                        ));

                    return u?u.addFettis(b):(S&&document.body.appendChild(s), (u=a(s, b, S, S||o, function() {
                                    u=null, S&&document.body.removeChild(s)
                                }

                            )).promise)
                }

                var u,
                S= !s,
                o= ! !L(l|| {}

                    , "resize"),
                i= !1;

                return e.reset=function() {
                    u&&u.reset()
                }

                ,
                e
            }

            var l,
            p;

            w.requestAnimationFrame&&w.cancelAnimationFrame?(l=w.requestAnimationFrame, p=w.cancelAnimationFrame):["webkit",
            "moz",
            "o",
            "ms"].forEach(function(t) {
                    if( !l|| !p) {
                        var e=t+"RequestAnimationFrame", a=t+"CancelAnimationFrame"; w[e]&&w[a]&&(l=w[e], p=w[a])
                    }
                }

            ),
            l&&p||(l=function(t) {
                    return w.setTimeout(t, 1e3/60)
                }

                , p=function(t) {
                    return w.clearTimeout(t)
                }

            );

            var d= {
                particleCount: 50, angle:90, spread:45, startVelocity:45, decay:.9, ticks:200, x:.5, y:.5, shapes:["square", "circle"], zIndex:100, colors:["#26ccff", "#a25afd", "#ff5e7e", "#88ff5a", "#fcff42", "#ffa62d", "#ff36ff"]
            }

            ;
            t.exports=s(),
            t.exports.create=s,
            t.exports.Promise=w.Promise||null
        }

        (),
        w.confetti=t.exports
    }

    (window, {}

    );
    var V=createElementFromString("<div class=\"stage-container hide\"><div class=\"canvas-container\"><canvas id=\"trails-canvas\"></canvas><canvas id=\"main-canvas\"></canvas></div></div>");
    addCss("div.stage-container{position:absolute;top:0;left:0;z-index:-1;pointer-events:none;opacity:0.4;}div.stage-container.hide{display:none;}"),
    addHtml(V);
    var A=createElementFromString("<div class=\"popper-container\"><div class=\"popper-paper\"><img src=\"https://cdn.classlink.com/production/framework/assets/images/new-years-popper-paper.svg\"></div><div class=\"popper-string\"><img src=\"https://cdn.classlink.com/production/framework/assets/images/new-years-popper-string.svg\"></div><div class=\"popper-body\"><img src=\"https://cdn.classlink.com/production/framework/assets/images/new-years-popper-body.svg\"></div></div>");

    A.onclick=function() {
        e( !fe.state.paused),
        V.classList.toggle("hide");
        var t=A.children[0].classList,
        r=A.children[1].classList;

        t.toggle("active"),
        r.toggle("active"),
        t.contains("active")&&confetti( {
                colors:["#35ABCD"], angle:45, particleCount:200, spread:70, origin: {
                    y:.95, x:.025
                }
            }

        )
    }

    ,
    addCss(".popper-container{position:absolute;left:-128px;bottom:-136px;width:260px;height:260px;transition:transform 1s;z-index:201;transform:scale(0.5);transform-origin:center;transition:transform 0.5s;cursor:pointer;}.popper-container:hover{transform:scale(0.6) translate(30px,-30px)}.popper-body{position:relative;width:130px;float:right}.popper-body.active{cursor:pointer}.popper-body.active2{animation:1s bodyReset}.popper-paper{position:absolute;left:auto;top:0;right:-12px;bottom:auto;width:73px;-webkit-transform:translate(-16px,11px) scale(.5);-ms-transform:translate(-16px,11px) scale(.5);transform:translate(-16px,11px) scale(.5);transition:transform .1s}.popper-paper.active{transform:translate(1px,-8px) scale(1);}.popper-paper.active2{animation:1s paperReset}.popper-string{position:absolute;left:89px;bottom:97px;width:90px;transition:transform .5s}.popper-string.active{transform:translate(-150px,150px)}.popper-string.active2{animation:1s stringReset;transform:translate(0,0)}@keyframes stringReset{0%{transform:translate(0,0);opacity:0}50%{transform:translate(-200px,200px)}100%{transform:translate(0,0)}}@keyframes bodyReset{0%{transform:translate(0,0)}50%{transform:translate(-200px,200px)}100%{transform:translate(0,0)}}@keyframes paperReset{0%{opacity:1;transform:translate(1px,-7px)}49%{opacity:1;transform:translate(-200px,200px)}50%{opacity:0;transform:translate(-200px,200px)}99%{opacity:0}100%{opacity:1;transform:translate(0,0)}}"),
    addHtml(A),
    function(e) {
        'use strict';

        var t= {
            fullscreenEnabled: 0, fullscreenElement:1, requestFullscreen:2, exitFullscreen:3, fullscreenchange:4, fullscreenerror:5
        }

        ,
        r=["webkitFullscreenEnabled",
        "webkitFullscreenElement",
        "webkitRequestFullscreen",
        "webkitExitFullscreen",
        "webkitfullscreenchange",
        "webkitfullscreenerror"],
        a=["mozFullScreenEnabled",
        "mozFullScreenElement",
        "mozRequestFullScreen",
        "mozCancelFullScreen",
        "mozfullscreenchange",
        "mozfullscreenerror"],
        o=["msFullscreenEnabled",
        "msFullscreenElement",
        "msRequestFullscreen",
        "msExitFullscreen",
        "MSFullscreenChange",
        "MSFullscreenError"],
        i="undefined" !=typeof window&&"undefined" !=typeof window.document?window.document: {}

        ,
        s="fullscreenEnabled"in i&&Object.keys(t)||r[0]in i&&r||a[0]in i&&a||o[0]in i&&o||[],
        n= {
            requestFullscreen:function(e) {
                return e[s[t.requestFullscreen]]()
            }

            ,
            requestFullscreenFunction:function(e) {
                return e[s[t.requestFullscreen]]
            }

            ,
            get exitFullscreen() {
                return i[s[t.exitFullscreen]].bind(i)
            }

            ,
            addEventListener:function(e, r, a) {
                return i.addEventListener(s[t[e]], r, a)
            }

            ,
            removeEventListener:function(e, r) {
                return i.removeEventListener(s[t[e]], r)
            }

            ,
            get fullscreenEnabled() {
                return ! !i[s[t.fullscreenEnabled]]
            }

            ,
            set fullscreenEnabled(e) {}

            ,
            get fullscreenElement() {
                return i[s[t.fullscreenElement]]
            }

            ,
            set fullscreenElement(e) {}

            ,
            get onfullscreenchange() {
                return i[("on"+s[t.fullscreenchange]).toLowerCase()]
            }

            ,
            set onfullscreenchange(e) {
                return i[("on"+s[t.fullscreenchange]).toLowerCase()]=e
            }

            ,
            get onfullscreenerror() {
                return i[("on"+s[t.fullscreenerror]).toLowerCase()]
            }

            ,
            set onfullscreenerror(e) {
                return i[("on"+s[t.fullscreenerror]).toLowerCase()]=e
            }
        }

        ;
        e.fscreen=n
    }

    (window);

    const I=function(e) {
        'use strict';

        function t() {
            e.requestAnimationFrame?requestAnimationFrame(r): webkitRequestAnimationFrame(r)
        }

        function r(r) {
            let a=r-o;
            o=r,
            0>a?a=17: 68<a&&(a=68), i.forEach(t=>t.call(e, a, a/16.6667)), t()
        }

        let a= !1,
        o=0,
        i=[];

        return {
            addListener:function(e) {
                if("function" !=typeof e)throw"Ticker.addListener() requires a function reference passed for a callback.";
                i.push(e),
                a||(a= !0, t())
            }
        }
    }

    (window),
    X=function(e, t, r) {
        'use strict';

        function a(r) {

            "string"==typeof r&&(r=t.getElementById(r)),
            this.canvas=r,
            this.ctx=r.getContext("2d"),
            this.canvas.style.touchAction="none",
            this.speed=1,
            this.dpr=a.disableHighDPI?1: (e.devicePixelRatio||1)/(this.ctx.backingStorePixelRatio||1), this.width=r.width, this.height=r.height, this.naturalWidth=this.width*this.dpr, this.naturalHeight=this.height*this.dpr, this.width !==this.naturalWidth&&(this.canvas.width=this.naturalWidth, this.canvas.height=this.naturalHeight, this.canvas.style.width=this.width+"px", this.canvas.style.height=this.height+"px"), a.stages.push(this), this._listeners= {

                resize:[],
                pointerstart:[],
                pointermove:[],
                pointerend:[],
                lastPointerPos: {
                    x: 0, y:0
                }
            }
        }

        let o=0;

        return a.stages=[],
        a.disableHighDPI= !1,
        a.prototype.addEventListener=function(e, t) {
            try {
                "ticker"===e?r.addListener(t): this._listeners[e].push(t)
            }

            catch(t) {
                throw"Invalid Event"
            }
        }

        ,
        a.prototype.dispatchEvent=function(e, t) {
            const r=this._listeners[e];
            if(r)r.forEach(e=>e.call(this, t));
            else throw"Invalid Event"
        }

        ,
        a.prototype.resize=function(e, t) {
            this.width=e,
            this.height=t,
            this.naturalWidth=e*this.dpr,
            this.naturalHeight=t*this.dpr,
            this.canvas.width=this.naturalWidth,
            this.canvas.height=this.naturalHeight,
            this.canvas.style.width=e+"px",
            this.canvas.style.height=t+"px",
            this.dispatchEvent("resize")
        }

        ,
        a.windowToCanvas=function(e, t, r) {
            const a=e.getBoundingClientRect();

            return {
                x: (t-a.left)*(e.width/a.width), y:(r-a.top)*(e.height/a.height)
            }
        }

        ,
        a.mouseHandler=function(e) {
            if(500>Date.now()-o)return;
            let t="start";

            "mousemove"===e.type?t="move":"mouseup"===e.type&&(t="end"),
            a.stages.forEach(r=> {
                    const o=a.windowToCanvas(r.canvas, e.clientX, e.clientY); r.pointerEvent(t, o.x/r.dpr, o.y/r.dpr)
                }

            )
        }

        ,
        a.touchHandler=function(e) {
            o=Date.now();
            let t="start";

            "touchmove"===e.type?t="move":"touchend"===e.type&&(t="end"),
            a.stages.forEach(r=> {
                    for(let o of Array.from(e.changedTouches)) {
                        let e; "end"===t?e=r._listeners.lastPointerPos:(e=a.windowToCanvas(r.canvas, o.clientX, o.clientY), r._listeners.lastPointerPos=e, "start"==t&&r.pointerEvent("move", e.x/r.dpr, e.y/r.dpr)), r.pointerEvent(t, e.x/r.dpr, e.y/r.dpr)
                    }
                }

            )
        }

        ,
        a.prototype.pointerEvent=function(e, t, r) {
            const a= {
                type: e, x:t, y:r
            }

            ;
            a.onCanvas=0<=t&&t<=this.width&&0<=r&&r<=this.height,
            this.dispatchEvent("pointer"+e, a)
        }

        ,
        a
    }

    (window, document, I),
    U=function(e) {
        var t=(0, eval)("this").Math.atan2;

        const r= {}

        ;

        return r.toDeg=180/B,
        r.toRad=B/180,
        r.halfPI=B/2,
        r.twoPI=2*B,
        r.dist=(e, t)=>T(e*e+t*t),
        r.pointDist=(e, t, r, a)=> {
            const o=r-e,
            i=a-t;
            return T(o*o+i*i)
        }

        ,
        r.angle=(e, a)=>r.halfPI+t(a, e),
        r.pointAngle=(e, a, o, i)=>r.halfPI+t(i-a, o-e),
        r.splitVector=(e, t)=>( {
                x:R(t)*e, y:-D(t)*e
            }

        ),
        r.random=(t, r)=>e.random()*(r-t)+t,
        r.randomInt=(t, r)=>(0|e.random()*(r-t+1))+t,
        r.randomChoice=function(t) {
            return 1===arguments.length&&Array.isArray(t)?t[0|e.random()*t.length]: arguments[0|e.random()*arguments.length]
        }

        ,
        r.clamp=function(e, t, r) {
            return P(Y(e, t), r)
        }

        ,
        r
    }

    (Math),
    H=640>=window.innerWidth,
    O=800<window.innerWidth,
    M=O&&300>window.innerHeight,
    Z=(()=> {
            const e=navigator.hardwareConcurrency; if( !e)return !1; const t=1024>=window.innerWidth?4:8; return e>=t
        }

    )(),
    N=7680,
    j=4320;
    let J,
    K,
    $=1,
    Q=1,
    ee= !1,
    te= !0,
    re= !1;

    const ae=1,
    oe=2,
    ie=3,
    se=0,
    ne= {
        Red: "#ff0043", Green:"#14fc56", Blue:"#1e7fff", Purple:"#e60aff", Gold:"#ffbf36", White:"#ffffff"
    }

    ,
    le="_INVISIBLE_",
    de=2*B,
    pe=.5*B,
    ce=new X("trails-canvas"),
    me=new X("main-canvas"),
    he=[ce,
    me],
    fe= {

        _listeners:new Set,
        _dispatch(e) {
            this._listeners.forEach(t=>t(this.state, e))
        }

        ,
        state: {

            paused: !0,
            soundEnabled: !1,
            menuOpen: !1,
            openHelpTopic:null,
            fullscreen:function() {
                return ! !fscreen.fullscreenElement
            }

            (),
            config: {
                quality: (Z?ie:oe)+"", shell:"Random", size:O?"3":M?"1.2":"2", autoLaunch: !0, finale: !1, skyLighting:2+"", hideControls:M, longExposure: !1, scaleFactor:function() {
                    return H?.9: M?.75:1
                }

                ()
            }
        }

        ,
        setState(e) {
            const t=this.state;

            this.state=Object.assign( {}

                , this.state, e),
            this._dispatch(t)
        }

        ,
        subscribe(e) {
            return this._listeners.add(e),
            ()=>this._listeners.remove(e)
        }
    }

    ,
    ge=(e=fe.state)=> !e.paused&& !e.menuOpen,
    ue=(e=fe.state)=>e.soundEnabled,
    ye=()=>+fe.state.config.quality,
    ve=()=>fe.state.config.shell,
    xe=()=>+fe.state.config.size,
    be=()=>fe.state.config.finale,
    we=()=>+fe.state.config.skyLighting,
    Ce=()=>fe.state.config.scaleFactor,
    ke= {
        stageContainer: ".stage-container", canvasContainer:".canvas-container"
    }

    ;

    Object.keys(ke).forEach(e=> {
            ke[e]=document.querySelector(ke[e])
        }

    );

    const Le=Object.keys(ne),
    Se=Le.map(e=>ne[e]),
    Ee=[...Se,
    le],
    Fe=Ee.reduce((e, t, r)=>(e[t]=r, e), {}

    ),
    ze= {}

    ;

    Se.forEach(e=> {
            ze[e]= {
                r:parseInt(e.substr(1, 2), 16), g:parseInt(e.substr(3, 2), 16), b:parseInt(e.substr(5, 2), 16)
            }
        }

    );
    let _e;

    const We=(e=1)=> {

        const t=.25>Math.random(),
        r=.72>Math.random(),
        s=r?a( {
                limitWhite: !0
            }

        ):[a(),
        a( {
                notSame: !0
            }

        )],
        n=r&&.42>Math.random(),
        l=n&&i(s),
        d=r&&(.2>Math.random()||s===ne.White)?l||a( {
                notColor:s, limitWhite: !0
            }

        ):null,
        p= !n&&s !==ne.White&&.42>Math.random();
        let c=t?1.1:1.25;

        return ee&&(c*=.8),
        re&&(c=1.2),
            {
            shellSize: e, spreadSize:300+100*e, starLife:900+200*e, starDensity:c, color:s, secondColor:d, glitter:t?"light":"", glitterColor:o(), pistil:n, pistilColor:l, streamers:p
        }
    }

    ,
    Te=(e=1)=> {
        const t=a(),
        r=.75>Math.random();

        return {
            shellSize: e, ring: !0, color:t, spreadSize:300+100*e, starLife:900+200*e, starCount:2.2*de*(e+1), pistil:r, pistilColor:i(t), glitter:r?"":"light", glitterColor:t===ne.Gold?ne.Gold:ne.White, streamers:.3>Math.random()
        }
    }

    ,
    Ge=(e=1)=> {
        const t=.75>Math.random()?ne.Gold: a();

        return {
            shellSize: e, spreadSize:380+75*e, starDensity:ee?.65:1, starLife:600+100*e, starLifeVariation:.32, glitter:"light", glitterColor:ne.Gold, color:t, crackle: !0, pistil:.65>Math.random(), pistilColor:i(t)
        }
    }

    ,
    Re=["Falling Leaves",
    "Floral",
    "Willow"],
    qe= {

        Random:n,
        Crackle:Ge,
        Crossette: (e=1)=> {
            const t=a( {
                    limitWhite: !0
                }

            );

            return {
                shellSize: e, spreadSize:300+100*e, starLife:750+160*e, starLifeVariation:.4, starDensity:.85, color:t, crossette: !0, pistil:.5>Math.random(), pistilColor:i(t)
            }
        }

        ,
        Crysanthemum:We,
        "Falling Leaves":(e=1)=>( {
                shellSize:e, color:le, spreadSize:300+120*e, starDensity:.12, starLife:500+50*e, starLifeVariation:.5, glitter:"medium", glitterColor:ne.Gold, fallingLeaves: !0
            }

        ),
        Floral:(e=1)=>( {
                shellSize:e, spreadSize:300+120*e, starDensity:.12, starLife:500+50*e, starLifeVariation:.5, color:.65>Math.random()?"random":.15>Math.random()?a():[a(), a( {
                        notSame: !0
                    }

                )], floral: !0
            }

        ),
        Ghost:(e=1)=> {
            const t=We(e);
            t.starLife*=1.5;

            let r=a( {
                    notColor:ne.White
                }

            );
            t.streamers= !0;
            const o=.42>Math.random(),
            s=o&&i(r);
            return t.color=le,
            t.secondColor=r,
            t.glitter="",
            t
        }

        ,
        "Horse Tail":(e=1)=> {
            const t=a();

            return {
                shellSize: e, horsetail: !0, color:t, spreadSize:250+38*e, starDensity:.9, starLife:2500+300*e, glitter:"medium", glitterColor:.5>Math.random()?o():t, strobe:t===ne.White
            }
        }

        ,
        Palm:(e=1)=> {
            const t=a(),
            r=.5>Math.random();

            return {
                shellSize: e, color:t, spreadSize:250+75*e, starDensity:r?.15:.4, starLife:1800+200*e, glitter:r?"thick":"heavy"
            }
        }

        ,
        Ring:Te,
        Strobe:(e=1)=> {
            const t=a( {
                    limitWhite: !0
                }

            );

            return {
                shellSize: e, spreadSize:280+92*e, starLife:1100+200*e, starLifeVariation:.4, starDensity:1.1, color:t, glitter:"light", glitterColor:ne.White, strobe: !0, strobeColor:.5>Math.random()?ne.White:null, pistil:.5>Math.random(), pistilColor:i(t)
            }
        }

        ,
        Willow:(e=1)=>( {
                shellSize:e, spreadSize:300+100*e, starDensity:.6, starLife:3e3+300*e, glitter:"willow", glitterColor:ne.Gold, color:le
            }

        )
    }

    ,
    De=Object.keys(qe);
    v.cooldown=15e3,
    v.lastCalled=Date.now();
    let Be= !0;
    const Ye=32;
    let Pe=0;
    b(),
    window.addEventListener("resize", b);
    let Ve=0,
    Ae=0,
    Ie=0;

    const Xe= {
        r: 0, g:0, b:0
    }

    ,
    Ue= {
        r: 0, g:0, b:0
    }

    ;

    me.addEventListener("ticker", function(e, t) {
            if( !ge())return; const r=e*$, a=$*t; w(r, t); const o=1-(1-Me.airDrag)*a, s=1-(1-Me.airDragHeavy)*a, n=1-(1-Ze.airDrag)*a, l=r/1e3*.9; Ee.forEach(e=> {
                    const t=Me.active[e]; for(let n=t.length-1; 0<=n; --n) {
                        const e=t[n]; if(e.updateFrame !==Ve)if(e.updateFrame=Ve, e.life-=r, 0>=e.life)t.splice(n, 1), Me.returnInstance(e); else {
                            const i=q(e.life/e.fullLife, .5); if(e.prevX=e.x, e.prevY=e.y, e.x+=e.speedX*a, e.y+=e.speedY*a, e.heavy?(e.speedX*=s, e.speedY*=s):(e.speedX*=o, e.speedY*=o), e.speedY+=l, e.spinRadius&&(e.spinAngle+=e.spinSpeed*a, e.x+=R(e.spinAngle)*e.spinRadius*a, e.y+=D(e.spinAngle)*e.spinRadius*a), e.sparkFreq)for(e.sparkTimer-=r; 0>e.sparkTimer; )e.sparkTimer+=.75*e.sparkFreq+4*(e.sparkFreq*(1-i)), Ze.add(e.x, e.y, e.sparkColor, Math.random()*de, Math.random()*e.sparkSpeed*i, .8*e.sparkLife+Math.random()*e.sparkLifeVariation*e.sparkLife); e.life<e.transitionTime&&(e.secondColor&& !e.colorChanged&&(e.colorChanged= !0, e.color=e.secondColor, t.splice(n, 1), Me.active[e.secondColor].push(e), e.secondColor===le&&(e.sparkFreq=0)), e.strobe&&(e.visible=0==G(e.life/e.strobeFreq)%3))
                        }
                    }

                    const d=Ze.active[e]; for(let t=d.length-1; 0<=t; --t) {
                        const e=d[t]; e.life-=r, 0>=e.life?(d.splice(t, 1), Ze.returnInstance(e)):(e.prevX=e.x, e.prevY=e.y, e.x+=e.speedX*a, e.y+=e.speedY*a, e.speedX*=n, e.speedY*=n, e.speedY+=l)
                    }
                }

            ), C(a)
        }

    );

    class He {
        constructor(e) {
            if(Object.assign(this, e), this.starLifeVariation=e.starLifeVariation||.125, this.color=e.color||a(), this.glitterColor=e.glitterColor||this.color,  !this.starCount) {
                const t=e.starDensity||1,
                r=this.spreadSize/54;
                this.starCount=Y(6, r*r*t)
            }
        }

        launch(e, t) {
            const r=J,
            a=K,
            o=60,
            i=a-a*.45,
            s=a,
            n=q(.04*(s-(i-t*(i-50))), .64),
            l=this.comet=Me.add(e*(r-2*o)+o, s, "string"==typeof this.color&&"random" !==this.color?this.color:ne.White, Math.PI, n*(this.horsetail?1.2:1), n*(this.horsetail?100:400));
            l.heavy= !0,
            l.spinRadius=U.random(.32, .85),
            l.sparkFreq=32/Q,
            re&&(l.sparkFreq=8),
            l.sparkLife=320,
            l.sparkLifeVariation=3,
            ("willow"===this.glitter||this.fallingLeaves)&&(l.sparkFreq=20/Q, l.sparkSpeed=.5, l.sparkLife=500),
            this.color===le&&(l.sparkColor=ne.Gold),
            .4<Math.random()&& !this.horsetail&&(l.secondColor=le, l.transitionTime=700*q(Math.random(), 1.5)+500),
            l.onDeath=e=>this.burst(e.x, e.y)
        }

        burst(e, t) {
            const r=this.spreadSize/96;
            let o,
            i,
            s,
            n,
            l,
            d=.25,
            p= !1;

            this.crossette&&(i=e=> {
                    p||(p= !0), E(e)
                }

            ),
            this.crackle&&(i=e=> {
                    p||(p= !0), _(e)
                }

            ),
            this.floral&&(i=F),
            this.fallingLeaves&&(i=z),
            "light"===this.glitter?(s=400, n=.3, l=300, d=2):"medium"===this.glitter?(s=200, n=.44, l=700, d=2):"heavy"===this.glitter?(s=80, n=.8, l=1400, d=2):"thick"===this.glitter?(s=16, n=re?1.65:1.5, l=1400, d=3):"streamer"===this.glitter?(s=32, n=1.05, l=620, d=2):"willow"===this.glitter&&(s=120, n=.34, l=1400, d=3.8),
            s/=Q;

            const c=(p, c)=> {
                const m=this.spreadSize/1800,
                h=Me.add(e, t, o||a(), p, c*r, this.starLife+Math.random()*this.starLife*this.starLifeVariation, this.horsetail?this.comet&&this.comet.speedX:0, this.horsetail?this.comet&&this.comet.speedY:-m);
                this.secondColor&&(h.transitionTime=this.starLife*(.05*Math.random()+.32), h.secondColor=this.secondColor),
                this.strobe&&(h.transitionTime=this.starLife*(.08*Math.random()+.46), h.strobe= !0, h.strobeFreq=20*Math.random()+40, this.strobeColor&&(h.secondColor=this.strobeColor)),
                h.onDeath=i,
                this.glitter&&(h.sparkFreq=s, h.sparkSpeed=n, h.sparkLife=l, h.sparkLifeVariation=d, h.sparkColor=this.glitterColor, h.sparkTimer=Math.random()*h.sparkFreq)
            }

            ;

            if("string"==typeof this.color) {
                if(o="random"===this.color?null:this.color, this.ring) {
                    const a=Math.random()*B,
                    i=.85*q(Math.random(), 2)+.15;

                    L(0, de, this.starCount, 0, p=> {
                            const c=R(p)*r*i, m=D(p)*r, h=U.pointDist(0, 0, c, m), f=U.pointAngle(0, 0, c, m)+a, g=Me.add(e, t, o, f, h, this.starLife+Math.random()*this.starLife*this.starLifeVariation); this.glitter&&(g.sparkFreq=s, g.sparkSpeed=n, g.sparkLife=l, g.sparkLifeVariation=d, g.sparkColor=this.glitterColor, g.sparkTimer=Math.random()*g.sparkFreq)
                        }

                    )
                }

                else S(this.starCount, c);
            }

            else if( !Array.isArray(this.color))throw new Error("Invalid shell color. Expected string or array of strings, but got: "+this.color);

            else if(.5>Math.random()) {
                const e=Math.random()*B,
                t=B;
                o=this.color[0],
                S(this.starCount, c, e, t),
                o=this.color[1],
                S(this.starCount, c, e+B, t)
            }

            else o=this.color[0],
            S(this.starCount/2, c),
            o=this.color[1],
            S(this.starCount/2, c);

            if(this.pistil) {
                const r=new He( {
                        spreadSize:.5*this.spreadSize, starLife:.6*this.starLife, starLifeVariation:this.starLifeVariation, starDensity:1.4, color:this.pistilColor, glitter:"light", glitterColor:this.pistilColor===ne.Gold?ne.Gold:ne.White
                    }

                );
                r.burst(e, t)
            }

            if(this.streamers) {
                const r=new He( {
                        spreadSize:.9*this.spreadSize, starLife:.8*this.starLife, starLifeVariation:this.starLifeVariation, starCount:G(Y(6, this.spreadSize/45)), color:ne.White, glitter:"streamer"
                    }

                );
                r.burst(e, t)
            }

            if(Oe.add(e, t, this.spreadSize/4), this.comet) {
                const e=P(2, xe()-this.shellSize)
            }
        }
    }

    const Oe= {

        active:[],
        _pool:[],
        _new() {
            return {}
        }

        ,
        add(e, t, r) {
            const a=this._pool.pop()||this._new();
            return a.x=e,
            a.y=t,
            a.radius=r,
            this.active.push(a),
            a
        }

        ,
        returnInstance(e) {
            this._pool.push(e)
        }
    }

    ,
    Me= {

        drawWidth:3,
        airDrag:.98,
        airDragHeavy:.992,
        active:W(),
        _pool:[],
        _new() {
            return {}
        }

        ,
        add(e, t, r, a, o, i, s, n) {
            const l=this._pool.pop()||this._new();
            return l.visible= !0,
            l.heavy= !1,
            l.x=e,
            l.y=t,
            l.prevX=e,
            l.prevY=t,
            l.color=r,
            l.speedX=R(a)*o+(s||0),
            l.speedY=D(a)*o+(n||0),
            l.life=i,
            l.fullLife=i,
            l.spinAngle=Math.random()*de,
            l.spinSpeed=.8,
            l.spinRadius=0,
            l.sparkFreq=0,
            l.sparkSpeed=1,
            l.sparkTimer=0,
            l.sparkColor=r,
            l.sparkLife=750,
            l.sparkLifeVariation=.25,
            l.strobe= !1,
            this.active[r].push(l),
            l
        }

        ,
        returnInstance(e) {
            e.onDeath&&e.onDeath(e),
            e.onDeath=null,
            e.secondColor=null,
            e.transitionTime=0,
            e.colorChanged= !1,
            this._pool.push(e)
        }
    }

    ,
    Ze= {

        drawWidth:0,
        airDrag:.9,
        active:W(),
        _pool:[],
        _new() {
            return {}
        }

        ,
        add(e, t, r, a, o, i) {
            const s=this._pool.pop()||this._new();
            return s.x=e,
            s.y=t,
            s.prevX=e,
            s.prevY=t,
            s.color=r,
            s.speedX=R(a)*o,
            s.speedY=D(a)*o,
            s.life=i,
            this.active[r].push(s),
            s
        }

        ,
        returnInstance(e) {
            this._pool.push(e)
        }
    }

    ;

    (function() {
            t()
        }

    )()
}